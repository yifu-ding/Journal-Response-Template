\begin{algorithm}[H]
    \caption{Disjoint Set Union (Union--Find) with Path Compression and Union by Rank (Generated by AI)}
    \label{algo:dsu}
    \begin{algorithmic}[1]
      \Require A finite set $U = \{1,\dots,n\}$; a list of union operations
      \Ensure Ability to query whether two elements are in the same set
      \Statex
      \Function{MakeSet}{$n$}
        \For{$i \gets 1$ \textbf{to} $n$}
          \State parent[$i$] $\gets i$
          \State rank[$i$] $\gets 0$
        \EndFor
      \EndFunction
      \Statex
      \Function{Find}{$x$}
        \If{parent[$x$] $\ne x$}
          \State parent[$x$] $\gets$ \Call{Find}{parent[$x$]} \Comment{Path compression}
        \EndIf
        \State \Return parent[$x$]
      \EndFunction
      \Statex
      \Function{Union}{$x, y$}
        \State $rx \gets$ \Call{Find}{$x$}; \quad $ry \gets$ \Call{Find}{$y$}
        \If{$rx = ry$} \State \Return \EndIf
        \If{rank[$rx$] $<$ rank[$ry$]}
          \State parent[$rx$] $\gets ry$
        \ElsIf{rank[$rx$] $>$ rank[$ry$]}
          \State parent[$ry$] $\gets rx$
        \Else
          \State parent[$ry$] $\gets rx$; \quad rank[$rx$] $\gets$ rank[$rx$] $+ 1$
        \EndIf
      \EndFunction
      \Statex
      \Function{SameSet}{$a, b$}
        \State \Return \Call{Find}{$a$} $=$ \Call{Find}{$b$}
      \EndFunction
    \end{algorithmic}
  \end{algorithm}
  